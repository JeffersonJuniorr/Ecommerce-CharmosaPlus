<div class="checkout-page" *ngIf="product">
  <div class="gallery">
    <div class="thumbnails">
      <img
        *ngFor="let thumb of thumbnails; let i = index"
        [src]="thumb"
        [class.selected]="i === selectedThumbnailIndex"
        (click)="selectThumbnail(i)"
        alt="Miniatura"
      />
    </div>
    <div class="main-image">
      <img [src]="mainImageUrl" [alt]="product.name" />
    </div>
  </div>

  <div class="details">
    <h1 class="product-title">{{ product.name }}</h1>

    
    <p class="description">{{ product.description }}</p>

    <div class="pricing">
      <div class="price">R$ {{ product.price | number:'1.2-2' }}</div>
      <div class="installments">até 6× sem juros de R$ {{ (product.price/6) | number:'1.2-2' }}</div>
    </div>


    <div class="sizes" *ngIf="product.sizes?.length">
      <label>Tamanho:</label>
      <span>{{ product.sizes.join(' • ') }}</span>
    </div>

    <div class="colors" *ngIf="product.colors?.length">
      <label>Outras cores:</label>
      <div class="color-list">
        <span
          *ngFor="let c of product.colors"
          class="color-dot"
          [style.backgroundColor]="c"
        ></span>
      </div>
    </div>

    <button class="btn-buy">COMPRAR</button>

    <div class="shipping">
      <label>Frete e prazo</label>
      <div class="cep-input">
        <input type="text" placeholder="Insira seu CEP" [(ngModel)]="cep" />
        <button (click)="calculateShipping()">CALCULAR</button>
      </div>
      <div class="shipping-result" *ngIf="shippingInfo">
        {{ shippingInfo }}
      </div>
    </div>
  </div>
</div>
